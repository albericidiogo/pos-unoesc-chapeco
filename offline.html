<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    #status {
      position: fixed;
      width: 100%;
      font: bold 1em sans-serif;
      color: #FFF;
      padding: 0.5em;
    }

    #log {
      padding: 2.5em 0.5em 0.5em;
      font: 1em sans-serif;
    }

    .online {
      background: green;
    }

    .offline {
      background: red;
    }
  </style>
</head>
<body>


  <div id="status"></div>
  <div id="log"></div>
  <p>This is a test</p>

  <script>

      function notify(text){
document.getElementById('msg').innerHTML+='<p>'+text+'</p>'
 titleFlick()
 }
function titleFlick(){
 if(document.hasFocus()){
 document.title='On Line'
 return
 }
 document.title=document.title=='updateOnlineStatus'?'* offline':'updateOnlineStatus'
 setTimeout('titleFlick()',500)
 }



    window.addEventListener('load', function() {
      var status = document.getElementById("status");

      function updateOnlineStatus(event) {
        var condition = navigator.onLine ? "online" : "offline";

        status.className = condition;
        status.innerHTML = condition.toUpperCase();

        log.insertAdjacentHTML("beforeend", "Event: " + event.type + "; Status: " + condition);
      }

      window.addEventListener('online',  updateOnlineStatus);
      window.addEventListener('offline', updateOnlineStatus);



    });
  </script>
</body>
</html>